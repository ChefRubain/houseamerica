KJE.parameters.set("ITEM_DECIMALS10",1);KJE.parameters.set("MAX_ITEM10",10);KJE.parameters.set("MIN_ITEM1",0);KJE.parameters.set("MAX_ITEM1",1000000);KJE.parameters.set("MIN_ITEM10",0);KJE.parameters.set("MIN_ITEM2",0);KJE.parameters.set("MIN_ITEM3",0);KJE.parameters.set("MAX_ITEM3",1000000);KJE.parameters.set("MIN_ITEM4","-100000");KJE.parameters.set("MIN_ITEM5",0);KJE.parameters.set("MIN_ITEM6",0);KJE.parameters.set("MIN_ITEM7",0);KJE.parameters.set("MIN_ITEM8",0);KJE.parameters.set("MIN_ITEM9",0);KJE.parameters.set("MSG_ITEM1","Contract Sales Price");KJE.parameters.set("MSG_ITEM10","FHA down payment required");KJE.parameters.set("MSG_ITEM2","Borrower-paid closing costs");KJE.parameters.set("MSG_ITEM3","Appraised value of home");KJE.parameters.set("MSG_ITEM4","Required adjustments");KJE.parameters.set("MSG_ITEM5","Prepaid expenses");KJE.parameters.set("MSG_ITEM6","Discount points");KJE.parameters.set("MSG_ITEM7","Repairs/improvements (non-financeable)");KJE.parameters.set("MSG_ITEM8","MIP paid in cash");KJE.parameters.set("MSG_ITEM9","Non-realty and other items");KJE.parameters.set("MSG_OUTPUT1","Acquisition (before adjustments)");KJE.parameters.set("MSG_OUTPUT2","Down payment required");KJE.parameters.set("MSG_OUTPUT3","Mortgage basis");KJE.parameters.set("MSG_OUTPUT4","Maximum LTV multiplier");KJE.parameters.set("MSG_OUTPUT5","Maximum FHA financing available for purchase");KJE.parameters.set("MSG_OUTPUT6","Minimum down payment");KJE.parameters.set("MSG_OUTPUT7","Total cash to close");KJE.parameters.set("MSG_OUTPUT8","Total mortgage amount (with MIP)");KJE.parameters.set("MSG_OUTPUT9","FHA required upfront Mortgage Insurance Premium (MIP)");KJE.parameters.set("OUTPUT_DECIMALS1",0);KJE.parameters.set("OUTPUT_DECIMALS2",0);KJE.parameters.set("OUTPUT_DECIMALS3",0);KJE.parameters.set("OUTPUT_DECIMALS4",4);KJE.parameters.set("OUTPUT_DECIMALS5",0);KJE.parameters.set("OUTPUT_DECIMALS6",0);KJE.parameters.set("OUTPUT_DECIMALS7",0);KJE.parameters.set("OUTPUT_DECIMALS8",0);KJE.parameters.set("OUTPUT_FMT1",KJE.FMT_DOLLARS);KJE.parameters.set("OUTPUT_FMT2",KJE.FMT_DOLLARS);KJE.parameters.set("OUTPUT_FMT3",KJE.FMT_DOLLARS);KJE.parameters.set("OUTPUT_FMT4",KJE.FMT_PERCENT);KJE.parameters.set("OUTPUT_FMT5",KJE.FMT_DOLLARS);KJE.parameters.set("OUTPUT_FMT6",KJE.FMT_DOLLARS);KJE.parameters.set("OUTPUT_FMT7",KJE.FMT_DOLLARS);KJE.parameters.set("OUTPUT_FMT8",KJE.FMT_DOLLARS);KJE.parameters.set("OUTPUT_FMT9",KJE.FMT_DOLLARS);KJE.parameters.set("ITEM_FMT10",KJE.FMT_PERCENT);KJE.parameters.set("ITEM10",3.5);KJE.FHAMortgageQualifierCalc=function(){this.INPUT_COUNT=10;this.OUTPUT_COUNT=9;this.DS_BALANCE=KJE.FloatArray(1);this.DS_MIP=KJE.FloatArray(1);this.DS_CASH=KJE.FloatArray(1);this.cats=[KJE.parameters.get("MSG_CAT1","Amount available for purchase"),KJE.parameters.get("MSG_CAT2","Financed upfront MIP"),KJE.parameters.get("MSG_CAT3","Cash required at closing")];this.cat=["","",""];this.ITEM=KJE.FloatArray(this.INPUT_COUNT);this.OUTPUT=KJE.FloatArray(this.OUTPUT_COUNT);this.ITEM_FMT=new Array(this.INPUT_COUNT);this.ITEM_DECIMALS=new Array(this.INPUT_COUNT);this.OUTPUT_FMT=new Array(this.OUTPUT_COUNT);this.OUTPUT_DECIMALS=new Array(this.OUTPUT_COUNT);this.OUTPUT_LBL=new Array(this.OUTPUT_COUNT);this.ITEM_LBL=new Array(this.INPUT_COUNT);for(var a=this.OUTPUT_COUNT-1;a>=0;a--){this.OUTPUT_FMT[a]=KJE.parameters.get("OUTPUT_FMT"+(a+1),KJE.FMT_DOLLARS);this.OUTPUT_DECIMALS[a]=KJE.parameters.get("OUTPUT_DECIMALS"+(a+1),0);this.OUTPUT_LBL[a]=KJE.parameters.get("MSG_OUTPUT"+(a+1),"Item"+(a+1))}for(var a=this.INPUT_COUNT-1;a>=0;a--){this.ITEM_FMT[a]=KJE.parameters.get("ITEM_FMT"+(a+1),KJE.FMT_DOLLARS);this.ITEM_DECIMALS[a]=KJE.parameters.get("ITEM_DECIMALS"+(a+1),0);this.ITEM_LBL[a]=KJE.parameters.get("MSG_ITEM"+(a+1),"Item"+(a+1))}};KJE.FHAMortgageQualifierCalc.prototype.clear=function(){};KJE.FHAMortgageQualifierCalc.prototype.calculate=function(d){var f=KJE;var b=this.OUTPUT;var a=this.ITEM;for(var c=(b.length-1);c>=0;c--){b[c]=0}b[0]=a[0];b[1]=a[0]*(a[9]/100);var e=(a[0]<a[2]?a[0]:a[2]);b[2]=e-a[3];b[3]=1-(a[9]/100);b[4]=b[3]*b[2];b[5]=b[0]-b[4];b[6]=a[1]+a[4]+a[5]+a[6]+a[7]+a[8]+b[5];b[8]=Math.round(b[4]*KJE.FHAMortgageQualifierCalc.MIPUpFront);b[7]=b[4]+b[8];this.DS_BALANCE[0]=b[4];this.DS_MIP[0]=b[8];this.DS_CASH[0]=b[6]};KJE.FHAMortgageQualifierCalc.prototype.formatReport=function(l){var c=KJE;var e=l;var h=this.OUTPUT_LBL;var a=this.OUTPUT;var d=this.OUTPUT_FMT;var b=this.OUTPUT_DECIMALS;var k=this.ITEM;var j=this.ITEM_FMT;var g=this.ITEM_DECIMALS;for(var f=a.length-1;f>=0;f--){e=KJE.replace("MSG_OUTPUT"+(f+1),h[f],e);if(d[f]==c.FMT_DOLLARS){e=KJE.replace("OUTPUT"+(f+1),c.dollars(a[f],b[f]),e)}else{if(d[f]==c.FMT_PERCENT){e=KJE.replace("OUTPUT"+(f+1),c.percent(a[f],b[f]),e)}else{e=KJE.replace("OUTPUT"+(f+1),c.number(a[f],b[f]),e)}}}for(var f=k.length-1;f>=0;f--){e=KJE.replace("MSG_ITEM"+(f+1),this.ITEM_LBL[f],e);if(j[f]==c.FMT_DOLLARS){e=KJE.replace("ITEM"+(f+1),c.dollars(k[f],g[f]),e)}else{if(j[f]==c.FMT_PERCENT){e=KJE.replace("ITEM"+(f+1),c.percent(k[f]/100,g[f]),e)}else{e=KJE.replace("ITEM"+(f+1),c.number(k[f],g[f]),e)}}}return e};KJE.FHAMortgageQualifierCalc.MIPUpFront=0.0175;KJE.FHAMortgageQualifierCalc.MIPMonthly=0.009;KJE.CalcName="FHA Loan Calculator";KJE.CalcType="FHAMortgageQualifier";KJE.CalculatorTitle="FHA Maximum Financing Calculator";KJE.parseInputs=function(a){return a};KJE.initialize=function(){KJE.CalcControl=new KJE.FHAMortgageQualifierCalc();KJE.GuiControl=new KJE.FHAMortgageQualifier(KJE.CalcControl)};KJE.FHAMortgageQualifier=function(n){var g=KJE;var c=KJE.gLegend;var h=KJE.inputs.items;for(var m=0;m<n.INPUT_COUNT;m++){if(m>3&&m!=9){KJE.InputItem.AltHelpName="EXPENSES"}else{KJE.InputItem.AltHelpName=null}if(n.ITEM_FMT[m]==KJE.FMT_PERCENT){KJE.InvestRateSlider("ITEM"+(m+1),n.ITEM_LBL[m])}else{KJE.DollarSlider("ITEM"+(m+1),n.ITEM_LBL[m],KJE.parameters.get("MIN_ITEM"+(m+1),0),KJE.parameters.get("MAX_ITEM"+(m+1),100000))}}KJE.InputItem.AltHelpName=null;for(var m=0;m<n.OUTPUT_COUNT;m++){KJE.Label("OUTPUT"+(m+1),n.OUTPUT_LBL[m],null,null,"KJEBold")}var j=KJE.gNewGraph(KJE.gSTACKED,"GRAPH1",true,false,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH_TITLE","FHA Home Financing"));j._legend.setVisible(true);j._legend._iOrientation=(c.TOP_RIGHT);j._axisX.setVisible(false);j._showItemLabel=true;j._showItemLabelOnTop=true;j._showItemLabelDecimals=0;var b=KJE.parameters.get("MSG_DROPPER_TITLE","Maximum FHA financing:");var e=KJE.parameters.get("MSG_DROPPER_CLOSETITLE","KJE1");var f=function(){return b+"|"+KJE.subText(KJE.getKJEReplaced(e,g.dollars(n.OUTPUT[4])),"KJERightBold")};KJE.addDropper(new KJE.Dropper("INPUTS",true,f,f),KJE.colorList[0]);var a=KJE.parameters.get("MSG_DROPPER3_TITLE","Total cash to close:");var d=KJE.parameters.get("MSG_DROPPER3_CLOSETITLE","KJE1");var k=function(){return a+"|"+KJE.subText(KJE.getKJEReplaced(d,g.dollars(n.OUTPUT[6])),"KJERightBold")};KJE.addDropper(new KJE.Dropper("INPUTS2",true,k,k),KJE.colorList[0])};KJE.FHAMortgageQualifier.prototype.setValues=function(c){var a=KJE.inputs.items;for(var b=c.INPUT_COUNT-1;b>=0;b--){c.ITEM[b]=a["ITEM"+(b+1)].getValue()}};KJE.FHAMortgageQualifier.prototype.refresh=function(g){var f=KJE;var e=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];for(var d=g.OUTPUT_COUNT-1;d>=0;d--){var c=b["OUTPUT"+(d+1)];if(c){c.setText(KJE.format[g.OUTPUT_FMT[d]](g.OUTPUT[d],g.OUTPUT_DECIMALS[d]))}}a.removeAll();a.setGraphCategories(g.cat);a.add(new KJE.gGraphDataSeries(g.DS_CASH,g.cats[2],a.getColor(3)," "+f.dollars(g.DS_CASH[0])));a.add(new KJE.gGraphDataSeries(g.DS_MIP,g.cats[1],a.getColor(2)," "+f.dollars(g.DS_MIP[0])));a.add(new KJE.gGraphDataSeries(g.DS_BALANCE,g.cats[0],a.getColor(1)," "+f.dollars(g.DS_BALANCE[0])));if(g.DS_BALANCE[0]<1){a._axisY._bAutoMinimum=true;a._axisY._axisMaximum=0;a._axisY._bAutoMaximum=false}else{a._axisY._bAutoMinimum=false;a._axisY._axisMinimum=0;a._axisY._bAutoMaximum=true}a.setTitleTemplate("Maximum FHA Mortgage");a.paint()};KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-ITEM10'><input id='KJE-ITEM10' /></div> <div id='KJE-C-ITEM1'><input id='KJE-ITEM1' /></div> <div id='KJE-C-ITEM3'><input id='KJE-ITEM3' /></div> <div id='KJE-C-ITEM4'><input id='KJE-ITEM4' /></div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-INPUTS2><div id=KJE-P-INPUTS2>Input information:</div></div> <div id=KJE-E-INPUTS2 > <div id='KJE-C-OUTPUT6'><div id='KJE-OUTPUT6'></div></div> <div id='KJE-C-ITEM2'><input id='KJE-ITEM2' /></div> <div id='KJE-C-ITEM5'><input id='KJE-ITEM5' /></div> <div id='KJE-C-ITEM6'><input id='KJE-ITEM6' /></div> <div id='KJE-C-ITEM7'><input id='KJE-ITEM7' /></div> <div id='KJE-C-ITEM8'><input id='KJE-ITEM8' /></div> <div id='KJE-C-ITEM9'><input id='KJE-ITEM9' /></div> <div style=\"height:10px\"></div> </div> **GRAPH1** ";KJE.DefinitionText=" <div id='KJE-D-ITEM10' ><dt>FHA down payment required</dt><dd>Percentage of your contract sales price plus required adjustments that you are required to pay and not borrow. If the appraised value of your home is less than the sales price, the required down payment will be the appraised value plus required adjustments X the required percentage, plus the difference between the sales price and the appraised value. This is designed to require at least a small down payment from the purchaser. The minimum downpayment percent is 3.5%. </dd></div> <div id='KJE-D-ITEM1' ><dt>Contract sales price</dt><dd>Actual price to be paid for the home. This does not include any closing costs paid by the borrower.</dd></div> <div id='KJE-D-ITEM2' ><dt>Borrower-paid closing costs</dt><dd>Any closing costs paid by the borrower. Closing costs paid by the borrower do not count toward the FHA required down payment.</dd></div> <div id='KJE-D-ITEM4' ><dt>Required adjustments</dt><dd>This amount will decrease (or increase if negative amounts are entered) the contract sales price before calculating the required minimum down payment. A common required adjustment would be for gift funds that do not meet FHA requirements. Additionally, this would also include, seller paid financing fees over 3% of the sale price in seller paid closing costs, or any other financial inducements to by the seller. </dd></div> <div id='KJE-D-ITEM3' ><dt>Appraised value of home</dt><dd>If this plus any required adjustments is lower than the contract sales price, the appraised value is used to calculate the maximum mortgage instead of the contract sales price.</dd></div> <div id='KJE-D-EXPENSES' ><dt>Prepaid expenses, points, non-financeable repairs/improvements, MIP, other items</dt><dd>Any other items required at closing that are not able to be financed into the mortgage. These items plus your down payment is your total cash required to close this mortgage.</dd></div> ";KJE.ReportText=' <!--HEADING "FHA Mortgage Loan Calculator" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>The maximum amount of your home purchase that can be financed with an FHA mortgage is OUTPUT5.</h2> The total loan amount is OUTPUT8, which includes an addition OUTPUT9 for the FHA required upfront Mortgage Insurance Premium (MIP). This was for a sales price of ITEM1 with total closing costs of OUTPUT7. Please see results summary below for a complete list of inputs and calculated items. **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Maximum Financing Available with FHA Financing</caption> <tfoot class=\'KJEReportTFooter\'> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_OUTPUT5 </th><td class="KJECellStrong">OUTPUT5</td></tr> </tfoot> <tbody class=\'KJEReportTBody\'> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM10 </th><td class="KJECell">ITEM10 </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\'>MSG_ITEM1 </th><td class="KJECell KJECell40">ITEM1 </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM3 </th><td class="KJECell">ITEM3 </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM4 </th><td class="KJECell">ITEM4 </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_OUTPUT4 </th><td class="KJECell">OUTPUT4</td></tr> </tbody> </table> </div> <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Total Cash Required at Closing</caption> <tfoot class=\'KJEReportTFooter\'> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_OUTPUT7 </th><td class="KJECellStrong">OUTPUT7</td></tr> </tfoot> <tbody class=\'KJEReportTBody\'> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\'>MSG_OUTPUT6 </th><td class="KJECell KJECell40">OUTPUT6</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM2 </th><td class="KJECell">ITEM2 </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM5 </th><td class="KJECell">ITEM5 </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM6 </th><td class="KJECell">ITEM6 </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM7 </th><td class="KJECell">ITEM7 </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM8 </th><td class="KJECell">ITEM8 </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_ITEM9 </th><td class="KJECell">ITEM9 </td></tr> </tbody> </table> </div> <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Total FHA Mortgage Financing</caption> <tfoot class=\'KJEReportTFooter\'> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_OUTPUT8 </th><td class="KJECellStrong">OUTPUT8</td></tr> </tfoot> <tbody class=\'KJEReportTBody\'> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\'>MSG_OUTPUT5 </th><td class="KJECell KJECell40">OUTPUT5</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_OUTPUT9 </th><td class="KJECell">OUTPUT9</td></tr> </tbody> </table> </div> ';